(function(a,b,c,d){function e(b,c){this.el=b,this.$el=a(b),this.metadata=this.$el.data("options"),this.o=a.extend({},this.defaults,c,this.metadata),this.currentSlide=this.o.startSlide||0,this.isVertical=this.$el.hasClass("jqslider-vertical"),this.animating=!1,this.av=[{pos:"left",size:"width"},{pos:"top",size:"height"}],this.cssDefault={useTranslate3d:!0,leaveTransforms:!1,avoidTransforms:!0},this.namespace=this.$el.attr("id")||this.o.namespace||"jqgrid-"+this._getUID(),this.container=this.$el.children(this.o.containerSelector,this.$el),this.list=this.container.children(this.o.listSelector,this.container),this.children=this.list.children(this.o.slideSelector,this.list),this.o.autosetup!==!1&&this.setup()}e.prototype={defaults:{autosetup:!0,circular:!1,startSlide:0,animationSpeed:500,easingFunction:"linear",containerSelector:".jqslider-container",listSelector:"ul",slideSelector:"li",slideTemplate:"<li />"},gotoNextSlide:function(){var a=this._getNextSlideNumber();a!==!1&&this.gotoSlide(a,!1)},gotoPrevSlide:function(){var a=this._getPrevSlideNumber();a!==!1&&this.gotoSlide(a,!0)},gotoSlide:function(b,c,d){if(this.animating===!0||b<0&&b>=this.children.length)return;this.$el.trigger("slideanimation",[b,c]),this.animating=!0,c=c||!1;var e=this,f=a(this.children[b]),g=a(this.children[this.currentSlide]),h=a.extend({},this.cssDefault);d===!0?(f.addClass("jqslider-current"),g.removeClass("jqslider-current"),this.currentSlide=b,this.animating=!1,this._resetControls()):(this.list.toggleClass("jqslider-list-before",c),f.addClass("jqslider-next"),h[this.av[+this.isVertical].pos]=c?"0%":"-100%",this.list.animate(h,{duration:this.o.animationSpeed,easing:this.o.easingFunction,complete:function(){g.removeClass("jqslider-current"),f.removeClass("jqslider-next").addClass("jqslider-current"),e.list.attr("style","").removeClass("jqslider-list-before"),e.currentSlide=b,e.animating=!1,e._resetControls()}}))},getSlideCount:function(){return this.children.length},getCurrentSlide:function(){return this.currentSlide},switchOrientation:function(){this.$el.toggleClass("jqslider-vertical"),this.isVertical=!this.isVertical},addSlide:function(b){var c=a(this.o.slideTemplate);return d!==b&&b<this.children.length-1?a(this.children[b]).before(c):this.list.append(c),this.children=this.list.children(),c},_getNextSlideNumber:function(){return this.currentSlide+1<this.children.length?this.currentSlide+1:this.o.circular?0:!1},_getPrevSlideNumber:function(){return this.currentSlide-1>=0?this.currentSlide-1:this.o.circular?this.children.length-1:!1},_resetControls:function(){this.buttons.length&&!this.o.circular&&(this.buttons.removeClass("jqslider-inactive"),this.currentSlide==0?this.prevButton.addClass("jqslider-inactive"):this.currentSlide==this.children.length-1&&this.nextButton.addClass("jqslider-inactive"))},_initControls:function(){var a=this;this.buttons=this.$el.children(".jqslider-handler"),this.buttons.length&&(this.nextButton=this.buttons.filter(".jqslider-handler-next").bind("click",function(b){b.preventDefault(),a.$el.trigger("gotonextslide."+a.namespace)}),this.prevButton=this.buttons.filter(".jqslider-handler-prev").bind("click",function(b){b.preventDefault(),a.$el.trigger("gotoprevslide."+a.namespace)}),!this.o.circular&&this.currentSlide==0&&this.prevButton.addClass("jqslider-inactive"))},_getUID:function(){return((1+Math.random())*65536|0).toString(16).substring(1)},setup:function(){var b=this;return a(this.children[this.currentSlide]).addClass("jqslider-current"),this._initControls(),this.$el.bind("gotoprevslide."+this.namespace,function(a){if(b.o.namespace&&a.namespace!=b.namespace)return;b.gotoPrevSlide()}),this.$el.bind("gotonextslide."+this.namespace,function(a){if(b.o.namespace&&a.namespace!=b.namespace)return;b.gotoNextSlide()}),this.$el.addClass("jqslider-initialiced"),this.$el.trigger("init."+this.namespace),this}},e.defaults=e.prototype.defaults,a.fn.jqslider=function(b){return this.each(function(){d==a(this).data("jqslider")&&a(this).data("jqslider",new e(this,b))})},b.JQSlider=e})(jQuery,window,document)