(function(a,b,c,d){var e=false;var f=function(b,c){e=this;e.el=b;e.$el=a(b);e.metadata=e.$el.data("options");e.o=a.extend({},e.defaults,c,e.metadata);e.currentSlide=e.o.startSlide||0;e.isVertical=e.$el.hasClass("jqslider-vertical");e.animating=false;e.av=[{pos:"left",size:"width"},{pos:"top",size:"height"}];e.cssDefault={useTranslate3d:true,leaveTransforms:false,avoidTransforms:true};e.namespace=e.$el.attr("id")||e.o.namespace||"jqgrid-"+e._getUID();e.container=e.$el.children(e.o.containerSelector,e.$el);e.list=e.container.children(e.o.listSelector,e.container);e.children=e.list.children(e.o.slideSelector,e.list);if(e.o.autosetup!==false)e.setup()};f.prototype={defaults:{autosetup:true,circular:false,startSlide:0,animationSpeed:500,easingFunction:"linear",containerSelector:".jqslider-container",listSelector:"ul",slideSelector:"li",slideTemplate:"<li />"},gotoNextSlide:function(){var a=e._getNextSlideNumber();if(a!==false){e.gotoSlide(a,false)}},gotoPrevSlide:function(){var a=e._getPrevSlideNumber();if(a!==false){e.gotoSlide(a,true)}},gotoSlide:function(b,c,d){if(e.animating===true||b<0&&b>=e.children.length)return;e.animating=true;c=c||false;var f=a(e.children[b]),g=a(e.children[e.currentSlide]),h=a.extend({},e.cssDefault);if(d===true){f.addClass("jqslider-current");g.removeClass("jqslider-current");e.currentSlide=b;e.animating=false;e._resetControls()}else{e.list.toggleClass("jqslider-list-before",c);f.addClass("jqslider-next");h[e.av[+e.isVertical].pos]=c?"0%":"-100%";e.list.animate(h,{duration:e.o.animationSpeed,easing:e.o.easingFunction,complete:function(){g.removeClass("jqslider-current");f.removeClass("jqslider-next").addClass("jqslider-current");e.list.attr("style","").removeClass("jqslider-list-before");e.currentSlide=b;e.animating=false;e._resetControls()}})}},getSlideCount:function(){return e.children.length},getCurrentSlide:function(){return e.currentSlide},switchOrientation:function(){e.$el.toggleClass("jqslider-vertical");e.isVertical=!e.isVertical},addSlide:function(b){var c=a(e.o.slideTemplate);if(d!==b&&b<e.children.length-1){a(e.children[b]).before(c)}else{e.list.append(c)}e.children=e.list.children();return c},_getNextSlideNumber:function(){return e.currentSlide+1<e.children.length?e.currentSlide+1:e.o.circular?0:false},_getPrevSlideNumber:function(){return e.currentSlide-1>=0?e.currentSlide-1:e.o.circular?e.children.length-1:false},_resetControls:function(){if(!e.o.circular){e.buttons.removeClass("jqslider-inactive");if(e.currentSlide==0){e.prevButton.addClass("jqslider-inactive")}else if(e.currentSlide==e.children.length-1){e.nextButton.addClass("jqslider-inactive")}}},_initControls:function(){e.buttons=e.$el.children(".jqslider-handler");e.nextButton=e.buttons.filter(".jqslider-handler-next").bind("click",function(a){a.preventDefault();e.$el.trigger("gotonextslide."+e.namespace)});e.prevButton=e.buttons.filter(".jqslider-handler-prev").bind("click",function(a){a.preventDefault();e.$el.trigger("gotoprevslide."+e.namespace)});if(!e.o.circular&&e.currentSlide==0)e.prevButton.addClass("jqslider-inactive")},_getUID:function(){return((1+Math.random())*65536|0).toString(16).substring(1)},setup:function(){a(e.children[e.currentSlide]).addClass("jqslider-current");e._initControls();e.$el.bind("gotoprevslide."+e.namespace,function(a){if(e.o.namespace&&a.namespace!=e.namespace)return;e.gotoPrevSlide()});e.$el.bind("gotonextslide."+e.namespace,function(a){if(e.o.namespace&&a.namespace!=e.namespace)return;e.gotoNextSlide()});e.$el.addClass("jqslider-initialiced");e.$el.trigger("init."+e.namespace);b.console.debug(a(e.children[e.currentSlide]).addClass("current-slide"));return e}};f.defaults=f.prototype.defaults;a.fn.jqslider=function(b){return this.each(function(){if(d==a(this).data("jqslider")){a(this).data("jqslider",new f(this,b))}})};b.JQSlider=f})(jQuery,window,document)