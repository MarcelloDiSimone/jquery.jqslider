/**
 * Title: A responsive and performant content Slider
 * jQSlider follows a new approach in sliding content. Where most slider-plugins are moving the whole list of slides
 * when animating, jQSlider animates only the two slides necessary for the animation simultaneously. But the most
 * important difference is, that it is not cloning the first (respectively last) slides to realize a circular movement.
 * This is important if you have rich content inside of your slide that would break when it's cloned. This approach
 * makes it also possible to have a fully css based scaling.
 *
 * Usage:
 *
 * (start code)
 *  $("#my-jqslider").jqslider();
 * (end)
 *
 * See the jqslider documentation page for a full description.
 */
(function(d,b,a,e){function c(g,f){this.$el=d(g);this.$body=d("body");this.metadata=this.$el.data("options");this.o=d.extend({},this.defaults,f,this.metadata);this.currentSlide=this.o.startSlide||0;this.isVertical=this.$el.hasClass("jqs-vertical");this.animating=false;this.slideTemplate="<"+this.o.slideSelector+"/>";this.av=[{pos:"left",size:"width"},{pos:"top",size:"height"}];this.container=this.$el.children(this.o.containerSelector);this.list=this.container.children(this.o.listSelector).addClass(this.o.listClass);this.slides=this.list.children(this.o.slideSelector).addClass(this.o.slideClass);if(this.o.autosetup!==false){this.setup()}}c.prototype={defaults:{autosetup:true,circular:false,startSlide:0,animationSpeed:500,easingFunction:"linear",containerSelector:".jqs-container",listSelector:"ul",listClass:"jqs-list",slideSelector:"li",slideClass:"jqs-slide"},gotoNextSlide:function(){var f=this._getNextSlideNumber();if(f!==false){this.gotoSlide(f,false)}},gotoPrevSlide:function(){var f=this._getPrevSlideNumber();if(f!==false){this.gotoSlide(f,true)}},gotoSlide:function(i,o,g){if(this.animating===true||i<0&&i>=this.slides.length){return}this.animating=true;o=o||false;this.$el.trigger("animationstart",[{current:this.currentSlide,next:i,counterwise:o}]);var n=this,h=d(this.slides[i]),j=d(this.slides[this.currentSlide]),l={},m=this.av[+this.isVertical].pos,k=this.av[+this.isVertical].size,f=j[k]();if(g===true){h.addClass("jqs-current");j.removeClass("jqs-current");this.currentSlide=i;this.animating=false;this._resetControls();this.$el.trigger("animationend",[{current:this.currentSlide,next:i,counterwise:o}])}else{this.list.toggleClass("jqs-list-before",o).css(m,o?-f:0);h.addClass("jqs-next");l[m]=(o)?"0":-f;this.list.animate(l,{duration:this.o.animationSpeed,easing:this.o.easingFunction,complete:function(){j.removeClass("jqs-current");h.removeClass("jqs-next").addClass("jqs-current");n.list.attr("style","").removeClass("jqs-list-before");n.currentSlide=i;n.animating=false;n._resetControls();n.$el.trigger("animationend",[{current:n.currentSlide,next:i,counterwise:o}])}})}},getSlideCount:function(){return this.slides.length},getCurrentSlide:function(){return this.currentSlide},switchOrientation:function(){this.$el.toggleClass("jqs-vertical");this.isVertical=!this.isVertical},addSlide:function(g){var f=d(this.slideTemplate);if(e!==g&&g<this.slides.length-1){d(this.slides[g]).before(f)}else{this.list.append(f)}this.slides=this.list.children().addClass(this.o.slideClass);return f},_getNextSlideNumber:function(){return((this.currentSlide+1)<this.slides.length)?(this.currentSlide+1):(this.o.circular)?0:false},_getPrevSlideNumber:function(){return((this.currentSlide-1)>=0)?(this.currentSlide-1):(this.o.circular)?this.slides.length-1:false},_resetControls:function(){if(this.buttons.length&&!this.o.circular){this.buttons.removeClass("jqs-inactive");if(this.currentSlide==0){this.prevButton.addClass("jqs-inactive")}else{if(this.currentSlide==this.slides.length-1){this.nextButton.addClass("jqs-inactive")}}}},_initControls:function(){var f=this;this.buttons=this.$el.children(".jqs-handler");if(this.buttons.length){this.nextButton=this.buttons.filter(".jqs-handler-next").bind("click",function(g){g.preventDefault();f.gotoNextSlide()});this.prevButton=this.buttons.filter(".jqs-handler-prev").bind("click",function(g){g.preventDefault();f.gotoPrevSlide()});if(!this.o.circular&&this.currentSlide==0){this.prevButton.addClass("jqs-inactive")}}},_getUID:function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)},setup:function(){var f=this;this.nsSuffix="."+this.o.namespace||"jqslider";d(this.slides[this.currentSlide]).addClass("jqs-current");this._initControls();this.$el.addClass("jqs-initialiced");this.$el.bind("gotoprevslide"+this.nsSuffix,function(g){f.gotoPrevSlide()});this.$el.bind("gotonextslide"+this.nsSuffix,function(g){f.gotoNextSlide()});this.$el.bind("gotoslide"+this.nsSuffix,function(j,i,h,g){f.gotoSlide(i,h,g)});this.$el.trigger("init");return this}};c.defaults=c.prototype.defaults;d.fn.jqslider=function(f){return this.each(function(){if(e==d(this).data("jqslider")){d(this).data("jqslider",new c(this,f))}})};b.JQSlider=c})(jQuery,window,document);